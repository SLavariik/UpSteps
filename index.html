<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Office Idle Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="mainMenu" class="main-menu">
  <div class="menu-content">
    <div class="menu-logo">
      üéâ <span>UP STEPS</span>
    </div>

    <button class="menu-btn primary" id="startGameBtn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
    <button class="menu-btn secondary" onclick="openKnowledgeBase()">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</button>
  </div>
</div>
<!-- ========== Knowledge Base Screen (—á–µ—Ä–Ω–æ–≤–∏–∫) ========== -->
<div id="knowledgeBaseScreen" class="hidden" style="position:fixed; inset:0; background:#fafcff; z-index:10000; overflow:auto; padding:36px 48px;">
  <div style="max-width:1100px; margin:0 auto;">
    <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:18px;">
      <h1 style="margin:0; font-size:28px; color:#1e88ff;">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</h1>
      <div style="display:flex; gap:8px; align-items:center;">
        <button class="btn-secondary" onclick="closeKnowledgeBase()" style="padding:10px 14px;">–ù–∞–∑–∞–¥</button>
      </div>
    </div>

    <p style="color:#666; margin-top:0;">–ß–µ—Ä–Ω–æ–≤–∏–∫ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞. –°—Ç—Ä–æ–∫–∏ –±—É–¥—É—Ç –ø–æ–¥—Ç—è–≥–∏–≤–∞—Ç—å—Å—è –∏–∑ —Ñ–∞–π–ª–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Äî –ø–æ–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∑–∞–≥–ª—É—à–∫–∏.</p>

    <div style="background:#fff; border-radius:12px; padding:12px; box-shadow:0 6px 18px rgba(30,136,255,0.06);">
      <div style="overflow:auto; max-height:66vh; padding-right:8px;">
        <table id="kbTable" class="kb-table" style="width:100%; border-collapse:collapse;">
          <thead>
            <tr>
              <th style="text-align:left; padding:12px; border-bottom:1px solid #eee; min-width:180px;">–ü–æ–Ω—è—Ç–∏–µ</th>
              <th style="text-align:left; padding:12px; border-bottom:1px solid #eee;">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</th>
              <th style="text-align:left; padding:12px; border-bottom:1px solid #eee; width:260px;">–ó–∞—á–µ–º –Ω—É–∂–Ω–æ</th>
            </tr>
          </thead>
          <tbody id="kbTableBody">
            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JS -->
          </tbody>
        </table>
      </div>
    </div>

    <div style="margin-top:18px; display:flex; justify-content:flex-end;">
      <button class="btn-secondary" onclick="closeKnowledgeBase()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>
</div>


<!-- –û–Ω–±–æ—Ä–¥–∏–Ω–≥ -->
<div id="onboardingOverlay" class="onboarding-overlay hidden">
  <div class="onboarding-tooltip">
    <p id="onboardingText">–¢—É—Ç –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏</p>
    <button id="onboardingNextBtn">–ü–æ–Ω—è–ª</button>
  </div>
</div>


<!-- Day intro overlay -->
<div id="dayIntroOverlay" class="day-intro hidden">
  <div class="day-title" id="dayTitle">–î–µ–Ω—å 1</div>
</div>

<!-- Day goals screen -->
<div id="dayGoalsScreen" class="day-goals hidden">
  <div class="goals-card">
    <h2 id="goalsTitle">–¶–µ–ª–∏ –¥–Ω—è</h2>
    <ul id="goalsList"></ul>
    <button class="btn-primary" id="startDayBtn">–ù–∞—á–∞—Ç—å –¥–µ–Ω—å</button>
  </div>
</div>



<div class="top-panel">
  <div class="time-pill">
    <span class="clock-icon">üïí</span>
    <span>–î–µ–Ω—å <span id="dayNumber">1</span> <span id="gameTime">09:00</span></span>
  </div>
  <button class="rollback-btn" onclick="rollbackDay()">‚è™</button>
  <button class="pause-btn">‚è∏</button>
</div>

<!-- –¶–µ–ª—å -->
<div class="task-container">
  <div class="task-pill" id="taskText">
    <span class="task-icon">‚ú®</span>
    –ù–∞–Ω—è—Ç—å 4 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
  </div>
  <div class="task-hint">–¢–≤–æ—è –∑–∞–¥–∞—á–∞</div>
</div>



<!-- –õ–µ–≤–∞—è –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
<div class="left-sidebar">
  <div class="sidebar-item">
    <div class="sidebar-icon budget-icon">üí∞</div>
    <div class="sidebar-label">–ë—é–¥–∂–µ—Ç</div>
  </div>
  <div class="sidebar-item">
    <div class="sidebar-icon employees-icon">üë•</div>
    <div class="sidebar-label">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</div>
  </div>
</div>

<div class="scene">

  <!-- –§–æ–Ω –æ—Ñ–∏—Å–∞ -->
  <div class="office-bg"></div>

  <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫—Ä—É–≥–∏ –∫–æ–º–∞–Ω–¥ -->
  <div class="team-circle orange" data-team="orange">
    <div class="team-emoji">üë•</div>
  </div>

  <!-- –ü–∞–Ω–µ–ª—å –∫–æ–º–∞–Ω–¥—ã -->
  <div class="team-panel" style="display: none;">
    <button class="close-panel-btn">‚úï</button>
    <h2 class="team-title">–ö–æ–º–∞–Ω–¥–∞ Discovery</h2>

    <div class="team-desc">
      Discovery ‚Äî –∫–æ–º–∞–Ω–¥–∞ —Å—Ç–∞—Ä—Ç–∞–ø–∞, —Å–æ–∑–¥–∞—é—â–∞—è —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç –∏ –æ–±—É—á–∞—é—â–∞—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é IT-–ø—Ä–æ–µ–∫—Ç–∞–º–∏. –ö–æ–º–∞–Ω–¥–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π: –ø—Ä–æ–¥–∞–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞, –¥–∏–∑–∞–π–Ω–µ—Ä–∞, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥–∞. –ö–∞–∂–¥—ã–π —á–ª–µ–Ω –∫–æ–º–∞–Ω–¥—ã –≤–Ω–æ—Å–∏—Ç —Å–≤–æ–π –≤–∫–ª–∞–¥ –≤ —Å–æ–∑–¥–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞, —Ä–∞–±–æ—Ç–∞—è –Ω–∞–¥ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç—å—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
    </div>

    <div class="team-finances">
      <div class="finance-item">
        <span class="finance-label">–ë—é–¥–∂–µ—Ç</span>
        <span class="finance-value">
          <span class="coin-icon">ü™ô</span>
          <span id="teamBudget">0</span>P
        </span>
      </div>
      <div class="finance-item">
        <span class="finance-label">–ü—Ä–∏–±—ã–ª—å</span>
        <span class="finance-value profit-value" id="teamProfit">
          <span class="profit-icon">‚Üì</span>
          <span id="teamProfitAmount">0</span>P/—Å–µ–∫
        </span>
      </div>
      <div class="transfer-section">
        <div class="transfer-title">–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ –±—é–¥–∂–µ—Ç</div>
      
        <div class="transfer-chips">
          <button class="chip" onclick="transferToBudgetAmount(5000)">+5 000</button>
          <button class="chip" onclick="transferToBudgetAmount(10000)">+10 000</button>
          <button class="chip" onclick="transferToBudgetAmount(20000)">+20 000</button>
          <button class="chip" onclick="transferToBudgetAmount(50000)">+50 000</button>
        </div>
      </div>      
    </div>

    <div class="employees-section">
      <div class="employees-header">–†–∞–±–æ—Ç–Ω–∏–∫–∏: <span id="employeesCount">0</span></div>
      <div id="employees"></div>
    </div>

  </div>
</div>

<!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å -->
<div class="bottom-bar">
  <div class="player-status">
    <div class="player-avatar">üë§</div>
    <div class="energy-panel" id="energyPanel" style="display:flex;align-items:center;gap:8px;margin-left:8px;">
      <div class="energy-dots" id="energyDots"></div>
      <button class="energy-recover-btn" id="energyRecoverBtn" title="–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å +1 —ç–Ω–µ—Ä–≥–∏—é">Ôºã</button>
    </div>
  </div>
  <div class="balance-display">
    <span class="coin-icon">ü™ô</span>
    <span id="balance">0</span>P
  </div>
  <div class="budget-display">
    <span class="budget-label">–ë—é–¥–∂–µ—Ç –∫–æ–º–∞–Ω–¥—ã:</span>
    <span class="coin-icon">ü™ô</span>
    <span id="teamBudgetBottom">0</span>P
  </div>
  <div class="income-display">
    <span class="income-arrow">‚Üë</span>
    <span id="income">0</span>P/c
  </div>
</div>

<!-- –≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–Ω—è -->
<div class="modal hidden" id="endDayScreen">
  <div class="modal-content end-day-content">
    <div class="confetti-icon">üéâ</div>
    <h2 class="end-day-title">–¢—ã –≤—ã–ø–æ–ª–Ω–∏–ª –∑–∞–¥–∞—á—É!</h2>
    
    <div class="tasks-list">
      <div class="task-item completed">
        <span class="task-check">‚úì</span>
        <span class="task-text">–ù–∞–Ω—è—Ç—å 4 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</span>
      </div>
      <div class="task-item" id="financeTask">
        <span class="task-check">‚úì</span>
        <span class="task-text">–ù–µ —É–π—Ç–∏ –≤ –º–∏–Ω—É—Å –ø–æ —Ñ–∏–Ω–∞–Ω—Å–∞–º –∫–æ–º–ø–∞–Ω–∏–∏</span>
      </div>
      <div class="task-item" id="moodTask">
        <span class="task-check">‚úï</span>
        <span class="task-text">–í—ã–±—Ä–∞—Ç—å —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–ø–æ—Ä—Ç—è—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ç–∏–≤—É</span>
      </div>
    </div>
    
    <div class="end-day-actions">
      <button class="btn-primary" onclick="startTest()">–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç</button>
      <button class="btn-secondary" disabled>–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</button>
    </div>
  </div>
</div>

<!-- –≠–∫—Ä–∞–Ω –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –¥–Ω—è -->
<div class="modal hidden" id="dayIntroScreen">
  <div class="modal-content">
    <h2 class="intro-title">–î–µ–Ω—å 1 ‚Äî –¶–µ–ª–∏</h2>
    <p class="intro-desc">–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–Ω—è –∏ –µ–≥–æ —Å–º—ã—Å–ª–∞.</p>

    <div style="margin-top:16px;">
      <strong>–ó–∞–¥–∞—á–∏:</strong>
      <ul class="intro-tasks" style="margin-top:8px; text-align:left;">
        <li>–ù–∞–Ω—è—Ç—å 4 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</li>
        <li>–ù–µ —É–π—Ç–∏ –≤ –º–∏–Ω—É—Å –ø–æ —Ñ–∏–Ω–∞–Ω—Å–∞–º</li>
        <li>–í—ã–±—Ä–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ—Ä—Ç—è—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</li>
      </ul>
    </div>

    <div class="modal-actions" style="margin-top:20px;">
      <button class="btn-secondary" onclick="closeDayIntro()">–ù–∞–∑–∞–¥</button>
      <button class="btn-primary" onclick="startDayFromIntro()">–ù–∞—á–∞—Ç—å –¥–µ–Ω—å</button>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª –≤–æ–ø—Ä–æ—Å–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏ -->
<div class="modal hidden" id="energyQuestionModal">
  <div class="modal-content">
    <h3 id="energyQTitle">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏</h3>
    <div id="energyQText" style="margin:12px 0;font-weight:600">–í–æ–ø—Ä–æ—Å...</div>
    <div id="energyQAnswers"></div>
    <div class="modal-actions" style="margin-top:16px;">
      <button class="btn-secondary" id="energyQClose">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<!-- –ù–µ–±–æ–ª—å—à–∞—è –º–æ–¥–∞–ª–∫–∞-–ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —ç–Ω–µ—Ä–≥–∏–∏ -->
<div class="modal hidden" id="energyHintModal">
  <div class="modal-content">
    <div>–£ –≤–∞—Å –Ω–µ—Ç —ç–Ω–µ—Ä–≥–∏–∏ ‚Äî –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <strong>Ôºã</strong>, —á—Ç–æ–±—ã –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ—ë —á–µ—Ä–µ–∑ –º–∏–Ω–∏-–≤–∏–∫—Ç–æ—Ä–∏–Ω—É.</div>
    <div class="modal-actions" style="margin-top:16px;">
      <button class="btn-primary" onclick="closeEnergyHint()">–ü–æ–Ω—è—Ç–Ω–æ</button>
    </div>
  </div>
</div>


<!-- –≠–∫—Ä–∞–Ω —Ç–µ—Å—Ç–∞ -->
<div class="modal hidden" id="testScreen">
  <div class="modal-content test-content">
    <div class="test-header">
      <div class="question-icon">‚ùì</div>
      <div class="question-number" id="questionNumber">1/3</div>
    </div>
    <h2 class="test-question" id="testQuestion">–ß—Ç–æ —Ç–∞–∫–æ–µ ¬´–ë—é–¥–∂–µ—Ç¬ª?</h2>
    
    <div class="answers-list" id="answersList">
      <!-- –û—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
    </div>
  </div>
</div>

<!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ç–µ—Å—Ç–∞ -->
<div class="modal hidden" id="testResultScreen">
  <div class="modal-content test-result-content">
    <div class="confetti-icon">üéâ</div>
    <h2 class="test-result-title">–¢—ã –ø—Ä–æ—à—ë–ª —Ç–µ—Å—Ç!</h2>
    <div class="test-score">
      <span class="score-check">‚úì</span>
      <span class="score-text" id="testScore">3/3</span>
    </div>
    <div class="end-day-actions">
      <button class="btn-primary" onclick="goToNextDay()">–ü–æ–≥–Ω–∞–ª–∏ –≤–æ –≤—Ç–æ—Ä–æ–π –¥–µ–Ω—å</button>
      <button class="btn-secondary" disabled>–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</button>
    </div>
  </div>
</div>

<script src="questions.js"></script>
<script src="game.js"></script>
</body>
</html>
